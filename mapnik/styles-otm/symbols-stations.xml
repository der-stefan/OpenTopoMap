<Style name="symbols-stations">

<!-- Stations without rotation -->
	<Rule>
		&maxscale_zoom12;
		&minscale_zoom13;
		<Filter>[direction]=null and [railway] = 'station' and not ([subway] = 'yes' or [station] = 'subway')</Filter>
		<PointSymbolizer file="symbols-otm/station_square.svg" allow-overlap="true" />
	</Rule>
	<Rule>
		&maxscale_zoom14;
		&minscale_zoom14;
		<Filter>[direction]=null and [railway] = 'station' and not ([subway] = 'yes' or [station] = 'subway')</Filter>
		<PointSymbolizer file="symbols-otm/station_square.svg" allow-overlap="true" />
	</Rule>
	<Rule>
		&maxscale_zoom15;
		&minscale_zoom17;
		<Filter>[direction]=null and [railway] = 'station' and not ([subway] = 'yes' or [station] = 'subway')</Filter>
		<PointSymbolizer file="symbols-otm/station_square.svg" allow-overlap="true" />
		<TextSymbolizer fontset-name="sans-oblique" size="9" fill="black" halo-radius="2" halo-fill="rgba(255,255,255,0.8)" placement="point" allow-overlap="true" dy="5" wrap-width="100">[name]</TextSymbolizer>
	</Rule>

	<Rule>
		&maxscale_zoom14;
		&minscale_zoom14;
		<Filter>[direction]=null and [railway] = 'halt' and not ([subway] = 'yes' or [station] = 'subway')</Filter>
		<PointSymbolizer file="symbols-otm/station_square.svg" allow-overlap="true" />
	</Rule>
	<Rule>
		&maxscale_zoom15;
		&minscale_zoom17;
		<Filter>[direction]=null and [railway] = 'halt' and not ([subway] = 'yes' or [station] = 'subway')</Filter>
		<PointSymbolizer file="symbols-otm/station_square.svg" allow-overlap="true" />
		<TextSymbolizer fontset-name="sans-oblique" size="9" fill="black" halo-radius="2" halo-fill="rgba(255,255,255,0.8)" placement="point" allow-overlap="true" dy="5" wrap-width="100">[name]</TextSymbolizer>
	</Rule>

<!-- Stations with rotation -->
	<!-- railway=station -->
	<Rule>
		&maxscale_zoom11;
		&minscale_zoom11;
		<Filter>[direction]!=null and [railway] = 'station' and not ([subway] = 'yes' or [station] = 'subway')</Filter>
		<PointSymbolizer file="symbols-otm/station_rect.svg" allow-overlap="true" transform="rotate([direction]) scale(0.7)"/>
	</Rule>
	<Rule>
		&maxscale_zoom12;
		&minscale_zoom12;
		<Filter>[direction]!=null and [railway] = 'station' and not ([subway] = 'yes' or [station] = 'subway')</Filter>
		<PointSymbolizer file="symbols-otm/station_rect.svg" allow-overlap="true" transform="rotate([direction]) scale(0.9)"/>
	</Rule>
	<Rule>
		&maxscale_zoom13;
		&minscale_zoom13;
		<Filter>[direction]!=null and [railway] = 'station' and not ([subway] = 'yes' or [station] = 'subway')</Filter>
		<PointSymbolizer file="symbols-otm/station_rect.svg" allow-overlap="true" transform="rotate([direction]) scale(1)"/>
	</Rule>
	<Rule>
		&maxscale_zoom14;
		&minscale_zoom14;
		<Filter>[direction]!=null and [railway] = 'station' and not ([subway] = 'yes' or [station] = 'subway')</Filter>
		<PointSymbolizer file="symbols-otm/station_rect.svg" allow-overlap="true"  transform="rotate([direction]) scale(1.1)"/>
	</Rule>
	<Rule>
		&maxscale_zoom15;
		&minscale_zoom17;
		<Filter>[direction]!=null and [railway] = 'station' and not ([subway] = 'yes' or [station] = 'subway')</Filter>
		<PointSymbolizer file="symbols-otm/station_rect.svg" allow-overlap="true"  transform="rotate([direction]) scale(1.2)"/>
		<TextSymbolizer fontset-name="sans-oblique" size="9" fill="black" halo-radius="2" halo-fill="rgba(255,255,255,0.8)" placement="point" allow-overlap="true" dy="7" wrap-width="100">[name]</TextSymbolizer>
	</Rule>

	<!-- railway=halt -->
	<Rule>
		&maxscale_zoom12;
		&minscale_zoom12;
		<Filter>[direction]!=null and [railway] = 'halt' and not ([subway] = 'yes' or [station] = 'subway')</Filter>
		<PointSymbolizer file="symbols-otm/station_rect.svg" allow-overlap="true" transform="rotate([direction]) scale(0.7)"/>
	</Rule>
	<Rule>
		&maxscale_zoom13;
		&minscale_zoom13;
		<Filter>[direction]!=null and [railway] = 'halt' and not ([subway] = 'yes' or [station] = 'subway')</Filter>
		<PointSymbolizer file="symbols-otm/station_rect.svg" allow-overlap="true" transform="rotate([direction]) scale(0.8)"/>
	</Rule>
	<Rule>
		&maxscale_zoom14;
		&minscale_zoom14;
		<Filter>[direction]!=null and [railway] = 'halt' and not ([subway] = 'yes' or [station] = 'subway')</Filter>
		<PointSymbolizer file="symbols-otm/station_rect.svg" allow-overlap="true"  transform="rotate([direction]) scale(0.9)"/>
	</Rule>
	<Rule>
		&maxscale_zoom15;
		&minscale_zoom17;
		<Filter>[direction]!=null and [railway] = 'halt' and not ([subway] = 'yes' or [station] = 'subway')</Filter>
		<PointSymbolizer file="symbols-otm/station_rect.svg" allow-overlap="true"  transform="rotate([direction]) scale(0.9)"/>
		<TextSymbolizer fontset-name="sans-oblique" size="9" fill="black" halo-radius="2" halo-fill="rgba(255,255,255,0.8)" placement="point" allow-overlap="true" dy="7" wrap-width="100">[name]</TextSymbolizer>
	</Rule>

</Style>
