const otm_layers = [
{
	"id": "background",
	"type": "background",
	"paint": {"background-color": "#eeeeee"}
},
{
	"id": "color-relief",
	"type": "color-relief",
	"source": "dem",
	"minzoom": 0,
	"maxzoom": 7.99,
	"paint": {
		"color-relief-color": ["interpolate",["linear"],["elevation"],
			1,"rgb(17,120,3)",
			100,"rgb(72,162,69)",
			300,"rgb(231,218,158)",
			1500,"rgb(161,67,0)",
			3000,"rgb(130,30,30)",
			4000,"rgb(110,110,110)",
			5000,"rgb(255,255,255)",
			6000,"rgb(255,255,255)"
		]
	}
},
{
	"id": "ocean",
	"source": "opentopomap-vector",
	"source-layer": "ocean",
	"type": "fill",
	"paint": {"fill-color": "#a3dde8","fill-outline-color": "blue"}
},
{
	"id": "built-up_area",
	"source": "opentopomap-vector",
	"source-layer": "land",
	"filter": [
		"all",
		["in", "kind", "residential","industrial","commercial"]
	],
	"type": "fill",
	"paint": {"fill-color": "#dadada"}
},
{
	"id": "built-up_area2",
	"source": "opentopomap-vector",
	"source-layer": "sites",
	"filter": [
		"all",
		["in", "kind", "university","college","school","hospital"]
	],
	"type": "fill",
	"paint": {"fill-color": "#dadada"}
},
{
	"id": "parks",
	"source": "opentopomap-vector",
	"source-layer": "land",
	"minzoom": 12,
	"filter": [
		"all",
		["in", "kind", "park", "playground", "village_green", "golf_course"]
	],
	"type": "fill",
	"paint": {"fill-color": "#c2f3a2"}
},
{
	"id": "forests",
	"source": "opentopomap-vector",
	"source-layer": "land",
	"filter": [
		"all",
		["==", "kind", "forest"]
	],
	"type": "fill",
	"paint": {"fill-color": "#cce599","fill-outline-color": "#91c067"}
},
/*{
	"id": "landuses",
	"source": "opentopomap-vector",
	"source-layer": "land",
	"type": "fill",
	"paint": {"fill-pattern": ["get","kind"]}
},*/
{
	"id": "hillshade",
	"type": "hillshade",
	"source": "dem",
	"layout": { "visibility": "visible" },
	"paint": { "hillshade-shadow-color": "#2d3100", "hillshade-method": "igor"}
},
{
	"id": "contour-lines",
	"type": "line",
	"source": "contour-source",
	"source-layer": "contours",
	"paint": {
		"line-color": "rgba(196,87,0,0.7)",
		"line-width": ["match", ["get", "level"], 1, 0.6, 0.2],
	},
},
{
	"id": "contour-labels",
	"type": "symbol",
	"source": "contour-source",
	"source-layer": "contours",
	"filter": [
		"case",
		["<=", ["zoom"], 13], 
		[">", ["get", "level"], 0],
		true // "type don"t care" (return true to show all features)
	],
	"layout": {
		"symbol-placement": "line",
		"symbol-spacing": 200,
		"text-max-angle": 120,
		"text-keep-upright": false,
        "text-field": "{ele}",
        "text-size": ["step",["zoom"],8,15, ["case",[">", ["get", "level"], 0], 10, 8]],
        "text-font": ["Roboto Regular"]
	},
	"paint": {
		"text-color": "#bc7e55",
		"text-halo-color": "rgba(255, 255, 255, 0.5)",
		"text-halo-width": 1.5
	}
},
{
	"id": "water-line",
	"source": "opentopomap-vector",
	"source-layer": "water_lines",
	"type": "line",
	"paint": {
		"line-color": "blue",
		"line-width": ["interpolate",["linear"],["zoom"],
			6, ["match", ["get", "kind"], "river", 0.7, "stream", 0.4, 0.3],
			12, ["match", ["get", "kind"], "river", 2.0, "stream", 0.6, 0.5],
		],
	}	
},          
{
	"id": "water-poly",
	"source": "opentopomap-vector",
	"source-layer": "water_polygons",
	"type": "fill",
	"paint": {"fill-color": "#a3dde8","fill-outline-color": "blue"}
},
// Labels
{
	"id": "water-line-labels",
	"source": "opentopomap-vector",
	"source-layer": "water_lines_labels",
	"type": "symbol",
	"layout": {
		"symbol-placement": "line-center",
        "text-field": "{name}",
        //"text-size": ["interpolate",["linear"],["zoom"],13,10, 18,12],
        
        "text-size": [
			"interpolate", ["linear"], ["zoom"],
			13, ["match", ["get", "kind"], "canal",10, "river",10, "stream",9, 9],
			18, ["match", ["get", "kind"], "canal",12, "river",12, "stream",11, 11],
		],        
        "text-font": [
          "Roboto Regular"
        ]
	},
	"paint": {
		"text-color": "blue",
		"text-halo-color": "white", //["match",["get","kind"],"river","#a3dde8","white"],
		"text-halo-width": 1.0
	}
},
{
	"id": "water-polygon-labels",
	"source": "opentopomap-vector",
	"source-layer": "water_polygon_labels",
	"type": "symbol",
	"layout": {
        "text-field": "{name}",
        "text-size": ["interpolate",["linear"],["zoom"],13,10, 18,12],
        "text-font": [
          "Roboto Regular"
        ]
	},
	"paint": {
		"text-color": "blue"
	}
},
{
	"id": "boundary",
	"source": "opentopomap-vector",
	"source-layer": "boundaries",
	"type": "line",
	"paint": {
		"line-color": "rgba(206,96,239,0.8)",
		"line-width": ["interpolate",["linear"],["zoom"],
			6, ["match", ["get", "admin_level"],1,3.0, 2,2.5, 3,1.0, 4,1.0, 5,1.0, 6,1.0, 7,0.8, 8,0.5, 0.5],
			8, ["match", ["get", "admin_level"],1,6.0, 2,5.0, 3,2.5, 4,2.5,	5,2.0, 6,1.0, 7,2.0, 8,2.0, 2.0]
		]
	}	
},
{
	"id": "cliff1",
	"source": "opentopomap-vector",
	"source-layer": "natural_lines",
	"type": "line",
	"paint": {
		"line-color": "black",
		"line-width": 0.5,
	}
},
{
	"id": "cliff2",
	"source": "opentopomap-vector",
	"source-layer": "natural_lines",
	"type": "line",
	"paint": {
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],12,1, 17,3],
		"line-offset": ["interpolate",["linear"],["zoom"],12,0.5, 17,1.5],
		"line-dasharray": [1,1],
	}
},
{
	"id": "buildings",
	"source": "opentopomap-vector",
	"source-layer": "buildings",
	"type": "fill",
	"paint": {
		"fill-color": [
			"interpolate",
			["linear"],
			["zoom"],
			12,"gray",
			13, ["match", ["get", "kind"],
				["roof", "carport", "garage", "garages"], "#888",
				"#333"
			],
			16, ["match", ["get", "kind"],
				["roof", "carport", "garage", "garages"], "#AAA",
				"gray"
			]
		],
		"fill-outline-color": ["interpolate",["exponential",0.5],["zoom"],12,"gray",13,"black"],
	}
},
// Rails
{
	"id": "railway",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",["==", "kind", "rail"]
	],
	"type": "line",
	"paint": {
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],8,1, 11,1.3, 13,1.6, 17,5]
	}
},
// Streets
//################
// embankment
{
	"id": "embankment",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "embankment", true]
	],
	"type": "line",
	"paint": {
		"line-color": "black",
		"line-dasharray": [0.2,0.25],
		"line-width": [
			"interpolate", ["linear"], ["zoom"],
			10, ["+",["match", ["get", "kind"], "motorway",5.0, "trunk",4.5, "primary",3.6, "secondary",2.4, "tertiary",2.2, "unclassified",1.3, "residential",1.3, "service",1.3, 1.3], 2],
			12, ["+",["match", ["get", "kind"], "motorway",6.6, "trunk",6.3, "primary",4.9, "secondary",4.5, "tertiary",3.5, "unclassified",3.5, "residential",3.2, "service",2.5, 2.5], 2],
			14, ["+",["match", ["get", "kind"], "motorway",7.0, "trunk",7, "primary",7, "secondary",6, "tertiary",6.0, "unclassified",6, "residential",5, "service",5, 2.5], 2],
			15, ["+",["match", ["get", "kind"], "motorway",8.0, "trunk",7.5, "primary",7.5, "secondary",7.5, "tertiary",6.5, "unclassified",6.5, "residential",6, "service",6, 3.5], 2],
			19, ["+",["match", ["get", "kind"], "motorway",20, "trunk",21, "primary",21, "secondary",21, "tertiary",21, "unclassified",21, "residential",14, "service",14, 6], 2],
		]
	}
},

// Road casing
{
	"id": "motorway-casing",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "motorway"],
		["!=", "link", true],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],5,1.4, 7,3.1, 8,3.8, 9,4.7, 11,5.3, 15,6.5, 19,20]
	}
},
{
	"id": "motorway_trunk-link-casing",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["in", "kind", "motorway", "trunk"],
		["==", "link", true],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],9,3, 12,2.9, 13,3.5, 15,6.5, 19,20]
	}
},
{
	"id": "trunk-casing",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "trunk"],
		["!=", "link", true],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],6,2.3, 7,2.9, 8,3.8, 9,4.4, 11,4.7, 15,6.5, 19,20]
	}
},
{
	"id": "primary-casing",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "primary"],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],6,1.7, 7,2.3, 8,3.0, 9,3.5, 12,3.9, 15,6.5, 19,20]
	}
},
{
	"id": "secondary-casing",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "secondary"],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],8,1.9, 9,1.9, 11,3.0, 12,3.5, 13,4.5, 15,6.5, 19,20]
	}
},
{
	"id": "tertiary-casing",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "tertiary"],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],9,1.9, 11,2.5, 12,3.3, 13,3.5, 15,5.5, 19,20]
	}
},
{
	"id": "unclassified-casing",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "unclassified"],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],11,0.5, 12,2.7, 13,3.5, 15,6.2, 19,20]
	}
},
{
	"id": "residential-casing",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["in", "kind", "residential", "living_street", "pedestrian"],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "butt"},
	"paint": {
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],11,0.5, 11.9,0.5, 12,2.2, 13,2.8, 15,5.5, 19,20]
	}
},
{
	"id": "service-casing",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "service"],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "butt"},
	"paint": {
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],12,1.5, 13,2.3, 15,4.0, 19,13]
	}
},
{
	"id": "track_grade1-casing",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "track"],
		["==", "tracktype", "grade1"],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],11,0.5, 12,1, 12.99,1, 13,2.6, 15,5.5, 19,13]
	}
},
{
	"id": "track_grade2-casing",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "track"],
		["any",
			["!has", "tracktype"],
			["==", "tracktype", "grade2"],
			["!=", "bridge", true]
		]
	],
	"minzoom": 12,
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],12,0.5, 13,0.9]
	}
},
{
	"id": "track_grade3-4-casing",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "track"],
		["in", "tracktype", "grade3","grade4"],
		["!=", "bridge", true]
	],
	"minzoom": 13,
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],12,0.5]
	}
},
{
	"id": "track_grade5-casing",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "track"],
		["in", "tracktype", "grade5"],
		["!=", "bridge", true]
	],
	"minzoom": 13,
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-dasharray": [6,6],
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],12,0.5]
	}
},
{
	"id": "path",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["in", "kind", "path","footway"],
		["!=", "bridge", true]
	],
	"minzoom": 13,
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-dasharray": [2,4],
		"line-color": "black",
		"line-width": ["interpolate",["linear"],["zoom"],12,0.6]
	}
},
{
	"id": "street-polygons-outline",
	"source": "opentopomap-vector",
	"source-layer": "street_polygons",
	"type": "fill",
	"paint": {"fill-color": "#EEEEEE","fill-outline-color": "black"}
},
// Road fill
//###########
{
	"id": "street-polygons",
	"source": "opentopomap-vector",
	"source-layer": "street_polygons",
	"type": "fill",
	"paint": {"fill-color": "#EEEEEE","fill-opacity": 0.5}
},
{
	"id": "track_grade1-fill",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "track"],
		["==", "tracktype", "grade1"],
		["!=", "bridge", true]
	],
	"minzoom": 13,
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": "white",
		"line-width": ["interpolate",["linear"],["zoom"],12.9,1.1, 13,1.1, 15,4, 19,12]
	}
},
{
	"id": "service-fill",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "service"],
		["!=", "bridge", true]
	],
	"type": "line",
	"paint": {
		"line-color": "white",
		"line-width": ["interpolate",["linear"],["zoom"],12,0.7, 13,0.9, 15,2.7, 19,10]
	}
},
{
	"id": "residential-fill",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["in", "kind", "residential", "living_street", "pedestrian"],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		//"line-color": ["case",["==", ["get", "kind"],"living_street"],"#CCCCCC",["==", ["get", "kind"],"pedestrian"],"#CCCCCC","white"],
		"line-color": ["match", ["get", "kind"], "living_street","#CCCCCC", "pedestrian","#CCCCCC", "white"],
		"line-width": ["interpolate",["linear"],["zoom"],11,0, 11.9,0, 12,1.3, 13,1.5, 15,4, 19,17]
	}
},
{
	"id": "unclassified-fill",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "unclassified"],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": "white",
		"line-width": ["interpolate",["linear"],["zoom"],11,0, 12,1.7, 13,2.0, 15,4.5, 19,17]
		}
},
{
	"id": "trunk-link-fill",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "trunk"],
		["==", "link", true],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": ["step",["zoom"],"#fdfd4f",10,"#fdfd4f",11,"#fb9e2a"],
		"line-width": ["interpolate",["linear"],["zoom"],9,2, 12,1.8, 13,1.8, 15,5.0, 19,17]
	}
},
{
	"id": "motorway-link-fill",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "motorway"],
		["==", "link", true],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": "#fb9e2a",
		"line-width": ["interpolate",["linear"],["zoom"],9,2, 12,1.8, 13,1.8, 15,5.0, 19,17]
	}
},
{
	"id": "tertiary-fill",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "tertiary"],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": ["step",["zoom"],"white",12,"white",13,"#fdfd4f"],
		"line-width": ["interpolate",["linear"],["zoom"],9,1.5, 11,1.5, 12,2.0, 13,1.8, 15,4.2, 19,17]
	}
},
{
	"id": "secondary-fill",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "secondary"],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": ["step",["zoom"],"white",8,"white",9,"#fdfd4f"],
		"line-width": ["interpolate",["linear"],["zoom"],9,1.5, 11,1.8, 12,2.0, 13,2.9, 15,4.5, 19,17]
	}
},
{
	"id": "primary-fill",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "primary"],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": ["step",["zoom"],"white",7,"white",8,"#fdfd4f",10,"#fdfd4f",11,"#fb9e2a"],
		"line-width": ["interpolate",["linear"],["zoom"],6,1.2, 7,1.5, 8,1.9, 9,2.1, 11,2.4, 12,2.6, 15,5.0, 19,17]
	}
	
},
{
	"id": "trunk-fill",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "trunk"],
		["!=", "link", true],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": ["step",["zoom"],"#fdfd4f",10,"#fdfd4f",11,"#fb9e2a"],
		"line-width": ["interpolate",["linear"],["zoom"],6,1.1, 8,2.3, 9,2.5, 11,3.0, 15,5.0, 19,17]
	}
},
{
	"id": "motorway-fill",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "kind", "motorway"],
		["!=", "link", true],
		["!=", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		"line-color": ["step",["zoom"],"#fdb548",6,"#fdb548",8,"#fb9e2a"],
		"line-width": ["interpolate",["linear"],["zoom"],6,1.4, 8,2.5, 9,2.9, 11,3.5, 15,5.0, 19,17]
	}
},

// Bridges
//########
{
	"id": "bridge-casing",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "bridge", true]
	],
	"type": "line",
	"paint": {
		"line-color": "black",
		//motorway:				["interpolate",["linear"],["zoom"],5,1.4, 7,3.1, 8,3.8, 9,4.7, 11,5.3, 15,6.5, 19,20]
		//motorway-trunk-link:	["interpolate",["linear"],["zoom"],9,3, 12,2.9, 13,3.5, 15,6.5, 19,20]
		//trunk:				["interpolate",["linear"],["zoom"],6,2.3, 7,2.9, 8,3.8, 9,4.4, 11,4.7, 15,6.5, 19,20]
		//primary:				["interpolate",["linear"],["zoom"],6,1.7, 7,2.3, 8,3.0, 9,3.5, 12,3.9, 15,6.5, 19,20]
		//secondary:			["interpolate",["linear"],["zoom"],8,1.9, 9,1.9, 11,3.0, 12,3.5, 13,4.5, 15,6.5, 19,20]
		//tertiary:				["interpolate",["linear"],["zoom"],9,1.9, 11,2.5, 12,3.3, 13,3.5, 15,5.5, 19,20]
		//unclassified:			["interpolate",["linear"],["zoom"],11,0.5, 12,2.7, 13,3.5, 15,6.2, 19,20]
		//residential:			["interpolate",["linear"],["zoom"],11,0.5, 11.9,0.5, 12,2.2, 13,2.8, 15,5.5, 19,20]
		//service:				["interpolate",["linear"],["zoom"],12,1.5, 13,2.3, 15,4.0, 19,13]
		//track-grade1:			["interpolate",["linear"],["zoom"],11,0.5, 12,1, 12.99,1, 13,2.6, 15,5.5, 19,13]
		"line-width": [
			"interpolate", ["linear"], ["zoom"],
			10, ["match", ["get", "kind"], "motorway",5.0, "trunk",4.5, "primary",3.6, "secondary",2.4, "tertiary",2.2, "unclassified",1.3, "residential",1.3, "service",1.3, 1.3],
			12, ["match", ["get", "kind"], "motorway",6.6, "trunk",6.3, "primary",4.9, "secondary",4.5, "tertiary",3.5, "unclassified",3.5, "residential",3.2, "service",2.5, 2.5],
			14, ["match", ["get", "kind"], "motorway",7.0, "trunk",7, "primary",7, "secondary",6, "tertiary",6.0, "unclassified",6, "residential",5, "service",5, 2.5],
			15, ["match", ["get", "kind"], "motorway",8.0, "trunk",7.5, "primary",7.5, "secondary",7.5, "tertiary",6.5, "unclassified",6.5, "residential",6, "service",6, 3.5],
			19, ["match", ["get", "kind"], "motorway",20, "trunk",21, "primary",21, "secondary",21, "tertiary",21, "unclassified",21, "residential",14, "service",14, 6],
		]
	}
},
{
	"id": "bridge-fill",
	"source": "opentopomap-vector",
	"source-layer": "streets",
	"filter": [
		"all",
		["==", "bridge", true]
	],
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {
		//motorway:		["step",["zoom"],"#fdb548",6,"#fdb548",8,"#fb9e2a"],
		//				["interpolate",["linear"],["zoom"],6,1.4, 8,2.5, 9,2.9, 11,3.5, 15,5.0, 19,17]
		//trunk:		["step",["zoom"],"#fdfd4f",10,"#fdfd4f",11,"#fb9e2a"],
		//				["interpolate",["linear"],["zoom"],6,1.1, 8,2.3, 9,2.5, 11,3.0, 15,5.0, 19,17]
		//primary:		["step",["zoom"],"white",7,"white",8,"#fdfd4f",10,"#fdfd4f",11,"#fb9e2a"],
		//				["interpolate",["linear"],["zoom"],6,1.2, 7,1.5, 8,1.9, 9,2.1, 11,2.4, 12,2.6, 15,5.0, 19,17]
		//secondary:	["step",["zoom"],"white",8,"white",9,"#fdfd4f"],
		//				["interpolate",["linear"],["zoom"],9,1.5, 11,1.8, 12,2.0, 13,2.9, 15,4.5, 19,17]
		//tertiary:		["step",["zoom"],"white",12,"white",13,"#fdfd4f"],
		//				["interpolate",["linear"],["zoom"],9,1.5, 11,1.5, 12,2.0, 13,1.8, 15,4.2, 19,17]
		//unclassified:	"white",
		//				["interpolate",["linear"],["zoom"],11,0, 12,1.7, 13,2.0, 15,4.5, 19,17]
		//residential:	["case",["==", ["get", "kind"],"living_street"],"#CCCCCC",["==", ["get", "kind"],"pedestrian"],"#CCCCCC","white"],
		//				["interpolate",["linear"],["zoom"],11,0, 11.9,0, 12,1.3, 13,1.5, 15,4, 19,17]
		"line-color": [
			"step",["zoom"],"white",
			10, ["match", ["get", "kind"], "motorway","#fb9e2a", "trunk","#fdfd4f", "primary","#fdfd4f", "secondary","#fdfd4f", "tertiary","white", "rail","black", "white"],
			11, ["match", ["get", "kind"], "motorway","#fb9e2a", "trunk","#fb9e2a", "primary","#fb9e2a", "secondary","#fdfd4f", "tertiary","white", "rail","black", "white"],
			13, ["match", ["get", "kind"], "motorway","#fb9e2a", "trunk","#fb9e2a", "primary","#fb9e2a", "secondary","#fdfd4f", "tertiary","#fdfd4f", "rail","black", "white"],
		],
		"line-width": [
			"interpolate", ["linear"], ["zoom"],
			9, ["match", ["get", "kind"], "motorway",2.9, "trunk",2.5, "primary",2.1, "secondary",1.5, "tertiary",1.5, "unclassified",1, "residential",1, "service",1, 1],
			13, ["match", ["get", "kind"], "motorway",4.2, "trunk",4.0, "primary",3.0, "secondary",2.9, "tertiary",1.8, "unclassified",2.0, "residential",1.5, "service",1.5, 1.5],
			15, ["match", ["get", "kind"], "motorway",5.0, "trunk",5.0, "primary",5.0, "secondary",4.5, "tertiary",4.2, "unclassified",4.5, "residential",4.0, "service",4.0, 1.5],
			19, ["match", ["get", "kind"], "motorway",17, "trunk",17, "primary",17, "secondary",17, "tertiary",17, "unclassified",17, "residential",17, "service",17, 5],
		]
	}
},
// All streets (for debugging)
/*{
	"id": "otherstreets",
	"source": "opentopomap-vector",
	"source-layer": "street_labels",
	//"minzoom": 15,
	"type": "line",
	"layout": {"line-cap": "round"},
	"paint": {"line-color": "red","line-width": 0.5}
},*/
{
	"id": "power-line",
	"source": "opentopomap-vector",
	"source-layer": "power_lines",
	"type": "line",
	"paint": {
		"line-color": "black",
		"line-width": 0.5,
	}
},
{
	"id": "power-line2",
	"source": "opentopomap-vector",
	"source-layer": "power_lines",
	"type": "symbol",
	"layout": {
		"symbol-placement": "line",
		"symbol-spacing": 30,
		"icon-image": "powerline",
		//"icon-rotate": 90,
		"icon-allow-overlap": true,
		"icon-ignore-placement": true,
	}
},
/*{
	"id": "power-tower",
	"source": "opentopomap-vector",
	"source-layer": "power_points",
	"type": "symbol",
	"layout": {
		"symbol-placement": "point",
        "icon-image": "powertower_z16",  //image does not work!??
        "icon-allow-overlap": true
	}
},*/

// Symbols & labels
// ============

/*{ // for DEBUGGING
	"id": "poi-all",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	//"minzoom": 13,
	"layout": {
        "icon-image": "wayside_cross",
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},*/

{
	"id": "poi-wind_turbine",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","generator:method"], "wind_turbine"],
	"layout": {
        "icon-image": "wind_turbine",
        "icon-offset": [3,-10],
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-communications_tower",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["any",
		["==", ["get","man_made"], "communications_tower"],
		["all",
			["==", ["get","man_made"], "tower"],
			["==", ["get","tower:type"], "communication"]
		],
	],
	"layout": {
        "icon-image": "communications_tower_z13",
        "icon-offset": [0,-5],
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-observation_tower",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["all",
		["==", ["get","man_made"], "tower"],
		["==", ["get","tower:type"], "observation"]
	],
	"layout": {
        "icon-image": "observation_tower_z13",
        "icon-offset": [0,-5],
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-communications_mast",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["all",
		["==", ["get","man_made"], "mast"],
		["==", ["get","tower:type"], "communication"],
	],
	"layout": {
        "icon-image": "communications_mast",
        "icon-offset": [0,-5],
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-church",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["all",
		["==", ["get","amenity"], "place_of_worship"],
		["==", ["get","religion"], "christian"],
		["any",
			["!",["has","denomination"]],
			["in", ["get","denomination"], ["literal",["catholic", "roman_catholic", "old_catholic", "greek_catholic", "lutheran", "protestant", "reformed"]]]
		],
		["!",["in", ["get","building"], ["literal",["wayside_chapel", "chapel"]]]],
		["!",["in", ["get","historic"], ["literal",["wayside_chapel", "chapel", "wayside_shrine", "wayside_cross"]]]]
	],
	"layout": {
        "icon-image": "church_z13",
        "icon-offset": [0,-3],
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-castle",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","historic"], "castle"],
	"layout": {
        "icon-image": ["match",["get","ruins"],"yes","castle_ruins_z13","castle_z13"],
        "icon-offset": [0,-3],
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-ruins",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","historic"], "ruins"],
	"layout": {
        "icon-image": "castle_ruins_z13",
        "icon-offset": [0,-3],
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-lighthouse",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","man_made"], "lighthouse"],
	"layout": {
        "icon-image": "lighthouse",
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-water_tower",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","man_made"], "water_tower"],
	"layout": {
        "icon-image": "water_tower_z13",
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-chimney",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","man_made"], "chimney"],
	"layout": {
        "icon-image": "chimney_z13",
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-watermill",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","man_made"], "watermill"],
	"layout": {
        "icon-image": "watermill",
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-peak",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","natural"], "peak"],
	"layout": {
        //"icon-image": ["match",["get","peak:summit_cross"],"yes","summit_cross","peak"],
        "icon-image": "peak_z8",
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-viewpoint",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","tourism"], "viewpoint"],
	"layout": {
        "icon-image": "viewpoint",
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-cave_entrance",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","natural"], "cave_entrance"],
	"layout": {
        "icon-image": "cave",
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-campsite",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","tourism"], "camp_site"],
	"layout": {
        "icon-image": "campsite_z13",
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-hut_alpine",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","tourism"], "alpine_hut"],
	"layout": {
        "icon-image": "hut_alpine",
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-hut_wilderness",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","tourism"], "wilderness_hut"],
	"layout": {
        "icon-image": "hut_wilderness",
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-swimming",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["any",
		["==", ["get","leisure"], "swimming_pool"],
		["==", ["get","sport"], "swimming"],
	],
	"layout": {
        "icon-image": "swimming",
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-golf_course",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","leisure"], "golf_course"],
	"layout": {
        "icon-image": "golf",
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-cross",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","man_made"], "cross"],
	"layout": {
        "icon-image": "cross",
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "poi-wayside_cross",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"type": "symbol",
	"filter": ["==", ["get","historic"], "wayside_cross"],
	"layout": {
        "icon-image": "wayside_cross",
        "icon-keep-upright": true,
        "icon-allow-overlap": true,
        "symbol-placement": "point"
	}
},
{
	"id": "housenumbers",
	"source": "opentopomap-vector",
	"source-layer": "addresses",
	"minzoom": 16,
	"type": "symbol",
	"layout": {
        "text-field": "{housenumber}",
        "text-size": ["interpolate",["linear"],["zoom"],16,9, 18,12],
        "text-font": [
          "Roboto Regular"
        ],
	},
	"paint": {
		"text-halo-color": "gray",
		"text-halo-width": 1.5
	}
},
{
	"id": "poi-text",
	"source": "opentopomap-vector",
	"source-layer": "pois",
	"minzoom": 16,
	"type": "symbol",
	"layout": {
        "text-field": "{amenity}{shop}{tourism}{man_made}{historic}{leisure}{emergency}{highway}{office}",
        "text-size": ["interpolate",["linear"],["zoom"],16,9, 18,12],
        "text-font": [
          "Roboto Regular"
        ],
        "text-allow-overlap": true,
	}
},
{
	"id": "streetnames",
	"source": "opentopomap-vector",
	"source-layer": "street_labels",
	"minzoom": 14,
	"type": "symbol",
	"layout": {
		"symbol-placement": "line",
        "text-field": "{name}",
        "text-size": ["interpolate",["linear"],["zoom"],14,9, 18,12],
        "text-font": [
          "Roboto Regular"
        ]
	},
	"paint": {
		"text-halo-color": [
			"case",
			["in", ["get", "kind"], ["literal", ["motorway", "motorway_link", "trunk", "trunk_link", "primary"]]], "#fb9e2a",
			["in", ["get", "kind"], ["literal", ["secondary", "tertiary"]]], "#fdfd4f",
			//["==", ["get", "kind"], "secondary"], "#fdfd4f",
			"white"
		],
		"text-halo-width": 1.5
	}
},

{
	"id": "ref-labels",
	"source": "opentopomap-vector",
	"source-layer": "street_labels",
	//"minzoom": 15,
	"type": "symbol",
	//"layout": {"line-cap": "round"},
	//"paint": {"line-color": "red","line-width": 0.5,"line-offset": 7}
	"layout": {
		"symbol-placement": "line",
        "text-field": "{ref}",
        "text-offset": ['step',['zoom'],['literal',[0,0]], 14,['literal',[0,0.9]]],
        "text-size": ["interpolate",["linear"],["zoom"],14,9, 18,12],
        "text-font": [
          "Roboto Regular"
        ]
	},
	"paint": {
		//"text-halo-color": "white",
		"text-halo-width": 1.5,
		"text-halo-color": [
			"step",["zoom"],"white",
			10, ["match", ["get", "kind"], "motorway","#fb9e2a", "trunk","#fdfd4f", "primary","#fdfd4f", "secondary","#fdfd4f", "tertiary","white", "rail","black", "white"],
			11, ["match", ["get", "kind"], "motorway","#fb9e2a", "trunk","#fb9e2a", "primary","#fb9e2a", "secondary","#fdfd4f", "tertiary","white", "rail","black", "white"],
			13, ["match", ["get", "kind"], "motorway","#fb9e2a", "trunk","#fb9e2a", "primary","#fb9e2a", "secondary","#fdfd4f", "tertiary","#fdfd4f", "rail","black", "white"],
			14, "white",
		],
	}
},

{
	"id": "suburb",
	"source": "opentopomap-vector",
	"source-layer": "place_labels",
	"filter": [
		"all",["in", "kind", "suburb", "quarter", "neighbourhood", "island", "hamlet", "isolated_dwelling", "farm"]
	],
	"type": "symbol",
	"minzoom": 12,
	"layout": {
        "text-field": "{name}",
        "text-size": ["interpolate",["linear"],["zoom"],10,10, 13,11],
        "text-variable-anchor": ["bottom-left","center","right","bottom","bottom-right","top-left","top","top-right"],
        "text-font": [
          "Roboto Regular"
        ]
	},
	"paint": {
		"text-halo-color": "white",
		"text-halo-width": 1.5
	}
},
{
	"id": "village",
	"source": "opentopomap-vector",
	"source-layer": "place_labels",
	"filter": [
			"all",
			["==", ["get","kind"], "village"],
			["any",
				["all",[">=", ["zoom"], 9],[">=", ["get", "population"], 1000]],
				["all",[">=", ["zoom"], 10],[">=", ["get", "population"], 1000]],
				["all",[">=", ["zoom"], 11],[">=", ["get", "population"], 100]],
				["all",[">=", ["zoom"], 12],["any",[">=", ["get", "population"], 0],["!",["has", "population"]]]]
			]
	],
	"type": "symbol",
	"layout": {
        "text-field": "{name}",
        "text-size":["interpolate",["linear"],["zoom"],
			9,["case",[">=",["get","population"],5000],10,9],
			10,["case",[">=",["get","population"],5000],11,10],
			11,["case",[">=",["get","population"],2000],12,10.5],
			12,["case",[">=",["get","population"],2000],13,12],
			13,["case",[">=",["get","population"],5000],15,15]
		],
        "text-max-width": 7,
		"text-variable-anchor": ["bottom-left","center","right","bottom","bottom-right","top-left","top","top-right"],
        "text-font": [
          "Roboto Regular"
        ]
	},
	"paint": {
		"text-halo-color": "rgba(255,255,255,0.8)",
		"text-halo-width": 1.5
	}
},
{
	"id": "town",
	"source": "opentopomap-vector",
	"source-layer": "place_labels",
	"filter": [
			"all",
			["==", ["get","kind"], "town"],
			["any",
				["all",[">=", ["zoom"], 7],[">=", ["get", "population"], 10000]],
				["all",[">=", ["zoom"], 8],[">=", ["get", "population"], 5000]],
				["all",[">=", ["zoom"], 9],[">=", ["get", "population"], 1000]],
				["all",[">=", ["zoom"], 10],[">=", ["get", "population"], 1000]],
				["all",[">=", ["zoom"], 11],["any",[">=", ["get", "population"], 0],["!",["has", "population"]]]]
			]
	],
	"type": "symbol",
	"layout": {
        "text-field": "{name}",
        "symbol-sort-key": ["get","population"],
        "text-size":["interpolate",["linear"],["zoom"],
			7,["case",[">",["get","population"],20000],10,9],
			8,["case",[">",["get","population"],10000],11.7,9.5],
			9,["case",[">",["get","population"],20000],13.5,11],
			10,["case",[">",["get","population"],15000],15,12],
			11,["case",[">",["get","population"],10000],16,13.5],
			13,["case",[">",["get","population"],500],20,17]
		],
		"text-max-width": 7,
        "text-variable-anchor": ["bottom-left","center","right","bottom","bottom-right","top-left","top","top-right"],
        "text-font": [
          "Roboto Regular"
        ]
	},
	"paint": {
		"text-halo-color": "rgba(255,255,255,0.8)",
		"text-halo-width": 1.5
	}
},
{
	"id": "city",
	"source": "opentopomap-vector",
	"source-layer": "place_labels",
	"filter": [
		"all",["in", "kind", "city"]
	],
	"type": "symbol",
	"layout": {
		"text-field": "{name}",
        //"text-field": ["format",["get","name"],{},"\n",["get", "population"],{"font-scale": 0.5}],
        "symbol-sort-key": ["-", ["to-number", ["get", "population"]]],
        //"text-allow-overlap": true,
        "text-size": ["interpolate",["linear"],["zoom"],6,10, 7,12, 8,16, 10,22],
        "text-max-width": 7,
        "text-variable-anchor": ["bottom-left","center","right","bottom","bottom-right","top-left","top","top-right"],
        "text-font": [
          "Roboto Regular"
        ]
	},
	"paint": {
		"text-halo-color": "rgba(255,255,255,0.8)",
		"text-halo-width": 2
	}
},
{
	"id": "state_capital",
	"source": "opentopomap-vector",
	"source-layer": "place_labels",
	"filter": [
		"all",["in", "kind", "state_capital"]
	],
	"type": "symbol",
	"layout": {
		"text-field": "{name}",
        "text-size": ["interpolate",["linear"],["zoom"],6,10, 8,17, 10,22],
        "text-max-width": 7,
        "text-variable-anchor": ["bottom-left","center","right","bottom","bottom-right","top-left","top","top-right"],
        "text-font": [
          "Roboto Regular"
        ]
	},
	"paint": {
		"text-halo-color": "rgba(255,255,255,0.8)",
		"text-halo-width": 2
	}
},
{
	"id": "capital",
	"source": "opentopomap-vector",
	"source-layer": "place_labels",
	"filter": [
		"all",["in", "kind", "capital"]
	],
	"type": "symbol",
	"layout": {
		"text-field": "{name}",
        "text-size": ["interpolate",["linear"],["zoom"],6,12, 8,17, 10,22],
        "text-transform": "uppercase",
        "text-max-width": 7,
        "text-variable-anchor": ["bottom-left","center","right","bottom","bottom-right","top-left","top","top-right"],
        "text-font": [
          "Roboto Regular"
        ]
	},
	"paint": {
		"text-halo-color": "rgba(255,255,255,0.8)",
		"text-halo-width": 2
	}
},
{
	"id": "boundary-labels",
	"source": "opentopomap-vector",
	"source-layer": "boundary_labels",
	"min_zoom": 6,
	"max_zoom": 7,
	"filter": [
		"all",["==", "admin_level", 2]
	],
	"type": "symbol",
	"layout": {
        "text-field": "{name}",
        "symbol-sort-key": ["-", ["get","way_area"]],
        "text-size": ["interpolate",["linear"],["zoom"],3,10, 5,14, 6,13, 7,15],
        "text-letter-spacing": ["interpolate",["linear"],["zoom"],3,0, 5,0.5, 6,0.5, 7,2],
        "text-font": [
          "Roboto Regular"
        ]
	},
	"paint": {
		"text-halo-color": "white",
		"text-halo-width": 1.5
	}
}
];
